<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Student Skill Tracker</title>

  <!-- Same font as login & register -->
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600&display=swap" rel="stylesheet" />

  <link rel="stylesheet" href="style.css" />
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>
<body>
  <div class="background-gradient">
    <div class="container dashboard-card">
      <div class="top-bar">
        <div class="brand">
          <div class="logo-circle small">ST</div>
          <div class="brand-text">
            <h1>Student Skill Tracker</h1>
            <p>Analyze, improve, and track student skills visually</p>
          </div>
        </div>
        <button onclick="logout()" class="btn-outline">Logout</button>
      </div>

      <div class="divider"></div>

      <section class="section">
        <h2 class="section-title">ğŸ‘¥ Manage Students</h2>
        <div class="input-row">
          <input
            type="text"
            id="studentName"
            placeholder="Enter student name (e.g., Vinod, Tharun)"
          />
          <button onclick="addStudent()" class="btn-primary small">Add Student</button>
        </div>
        <p class="hint-text">Click on a student to open their skill dashboard.</p>
        <ul id="studentList" class="pill-list"></ul>
      </section>

      <section id="studentDashboard" style="display:none;" class="section">
        <div class="section-header">
          <h2 id="studentTitle" class="section-title"></h2>
          <span class="badge">Active Student</span>
        </div>

        <div class="grid-2">
          <div>
            <h3 class="subheading">ğŸ¯ Add / Update Skills</h3>
            <div class="skill-input">
              <input
                type="text"
                id="skillName"
                placeholder="Enter skill name (e.g., JavaScript, HTML, Python)"
              />
              <input
                type="number"
                id="skillLevel"
                placeholder="Level (0â€“100)"
                min="0"
                max="100"
              />
              <button onclick="addSkill()" class="btn-primary small">Add Skill</button>
            </div>
            <div id="skillsList" class="card surface"></div>
          </div>

          <div class="chart-card surface">
            <h3 class="subheading">ğŸ“Š Skill Chart</h3>
            <canvas id="skillsChart"></canvas>
            <div id="analysis" class="analysis-text"></div>
          </div>
        </div>

        <div id="assignmentSection" class="section" style="margin-top: 26px;">
          <div class="section-header">
            <h3 class="section-title">ğŸ“ Skill-Based MCQ Assignment</h3>
            <button onclick="startAssignment()" class="btn-secondary small">Start Assignment</button>
          </div>

          <div id="assignmentArea" class="card surface" style="display:none; margin-top:15px;">
            <h4 id="assignmentTitle" class="subheading"></h4>
            <div id="mcqContainer" class="mcq-container"></div>
            <button
              id="submitAssignmentBtn"
              style="margin-top:15px; display:none;"
              onclick="submitAssignment()"
              class="btn-primary small"
            >
              Submit Assignment
            </button>
          </div>

          <div id="assignmentResult" class="result-text" style="margin-top:15px;"></div>

          <h3 class="subheading" style="margin-top:20px;">ğŸ“œ Assignment History</h3>
          <div class="table-wrapper surface">
            <table id="assignmentHistoryTable">
              <thead>
                <tr>
                  <th>Date</th>
                  <th>Skill</th>
                  <th>Score (%)</th>
                </tr>
              </thead>
              <tbody id="assignmentHistoryBody"></tbody>
            </table>
          </div>
        </div>
      </section>
    </div>
  </div>

  <script src="auth.js"></script>
  <script src="script.js"></script>
</body>
</html>
